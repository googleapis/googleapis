templates:
# Request Setup: Natural Language Sentiment
- name: AutoML Natural Language Sentiment Metatdata (request)
  request:
  - field: dataset.text_sentiment_dataset_metadata.sentiment_max
    value: 10
    comment: |
      A sentiment is expressed as an integer ordinal, where higher value means
      a more positive sentiment. The range of sentiments that will be used is
      between 0 and sentiment_max (inclusive on both ends), and all the values
      in the range must be represented in the dataset before a model can be created.
      sentiment_max value must be between 1 and 10 (inclusive).
# Response Setup: Natural Language Sentiment
- name: AutoML Natural Language Sentiment Metatdata (response)
  response:
  - comment:
    - "Get %s from Text Sentiment Dataset Metadata"
    - sentiment_max
  - print:
    - "Sentiment Max: %s"
    - dataset.text_sentiment_dataset_metadata.sentiment_max
# Code Samples for Dataset CRUD for Natural Language Sentiment
samples:
# Create
- region_tag: automl_natural_language_sentiment_create_dataset
  mixins:
  - AutoML Create Dataset
  - AutoML Natural Language Sentiment Metatdata (request)
  response:
  - include: AutoML Create Dataset
    with:
      dataset:
      - include: AutoML Natural Language Sentiment Metatdata (response)
# List
- region_tag: automl_natural_language_sentiment_list_datasets
  mixins:
  - AutoML List Datasets
  request:
  - field: filter
    value: "text_sentiment_dataset_metadata:*"
    comment: |
        An expression for filtering the results of the request.
        This filters for Datasets which have text_sentiment_dataset_metadata.
  response:
  - include: AutoML List Datasets
    with:
      dataset:
      - include: AutoML Natural Language Sentiment Metatdata (response)
# Get
- region_tag: automl_natural_language_sentiment_get_dataset
  mixins:
  - AutoML Get Dataset
  response:
  - include: AutoML Get Dataset
    with:
      dataset:
      - include: AutoML Natural Language Sentiment Metatdata (response)
# Delete
- region_tag: automl_natural_language_sentiment_delete_dataset
  mixins:
  - AutoML Delete Dataset

tests:
- suite: AutoML Natural Language – Dataset Management
  filename: automl_natural_language_datasets
  test_template: AutoML Dataset Management Test Suite
  test_data:
    create_dataset_sample: automl_natural_language_create_dataset
    list_datasets_sample: automl_natural_language_list_datasets
    get_dataset_sample: automl_natural_language_get_dataset
    delete_dataset_sample: automl_natural_language_delete_dataset
    create_dataset_assertions: &assert_sentiment_max_printed
    - assert_contains:
      - literal: "Sentiment Max: 10"
    list_datasets_assertions: *assert_sentiment_max_printed
    get_dataset_assertions: *assert_sentiment_max_printed