test:
  #shared_steps:
  #- name:

  # LOCATION HAS A DEFAULT, DO NOT PASS IT IN

  suites:
  - name: Create Dataset

    setup:
    - env:
        name: GOOGLE_PROJECT_ID
        variable: project_id
    #- uuid: unique_dataset_id # cannot contain dashes
    - code: unique_dataset_id = uuid.uuid4().hex

    # START WITH JUST 2 of these and make them go!
    # Just create, ignore delete first :)
    # ah, so we need list too :)
    cases:
    - name: Natural Language Classification
      spec:
      # LIST
      - call:
          sample: automl_natural_language_list_datasets
          params:
            project: { variable: project_id }
      - assert_not_contains:
        - variable: unique_dataset_id

      # CREATE
      - call:
          sample: automl_natural_language_create_dataset
          params:
            project: { variable: project_id }
            display_name: { variable: unique_dataset_id }

      - assert_contains:

      # LIST
      - call:
          sample: automl_natural_language_list_datasets
          params:
            project: { variable: project_id }
      - assert_contains:
        - literal: "Dataset name"
        - variable: unique_dataset_id
