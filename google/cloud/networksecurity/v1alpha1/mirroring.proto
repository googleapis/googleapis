// Copyright 2025 Google LLC
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//     http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

syntax = "proto3";

package google.cloud.networksecurity.v1alpha1;

import "google/api/annotations.proto";
import "google/api/client.proto";
import "google/api/field_behavior.proto";
import "google/api/field_info.proto";
import "google/api/resource.proto";
import "google/cloud/networksecurity/v1alpha1/common.proto";
import "google/longrunning/operations.proto";
import "google/protobuf/empty.proto";
import "google/protobuf/field_mask.proto";
import "google/protobuf/timestamp.proto";

option csharp_namespace = "Google.Cloud.NetworkSecurity.V1Alpha1";
option go_package = "cloud.google.com/go/networksecurity/apiv1alpha1/networksecuritypb;networksecuritypb";
option java_multiple_files = true;
option java_outer_classname = "MirroringProto";
option java_package = "com.google.cloud.networksecurity.v1alpha1";
option php_namespace = "Google\\Cloud\\NetworkSecurity\\V1alpha1";
option ruby_package = "Google::Cloud::NetworkSecurity::V1alpha1";
option (google.api.resource_definition) = {
  type: "compute.googleapis.com/ForwardingRule"
  pattern: "projects/{project}/global/forwardingRules/{forwarding_rule}"
};

// PM2 is the "out-of-band" flavor of the Network Security Integrations product.
service Mirroring {
  option (google.api.default_host) = "networksecurity.googleapis.com";
  option (google.api.oauth_scopes) =
      "https://www.googleapis.com/auth/cloud-platform";

  // Lists endpoint groups in a given project and location.
  // See https://google.aip.dev/132.
  rpc ListMirroringEndpointGroups(ListMirroringEndpointGroupsRequest)
      returns (ListMirroringEndpointGroupsResponse) {
    option (google.api.http) = {
      get: "/v1alpha1/{parent=projects/*/locations/*}/mirroringEndpointGroups"
    };
    option (google.api.method_signature) = "parent";
  }

  // Gets a specific endpoint group.
  // See https://google.aip.dev/131.
  rpc GetMirroringEndpointGroup(GetMirroringEndpointGroupRequest)
      returns (MirroringEndpointGroup) {
    option (google.api.http) = {
      get: "/v1alpha1/{name=projects/*/locations/*/mirroringEndpointGroups/*}"
    };
    option (google.api.method_signature) = "name";
  }

  // Creates an endpoint group in a given project and location.
  // See https://google.aip.dev/133.
  rpc CreateMirroringEndpointGroup(CreateMirroringEndpointGroupRequest)
      returns (google.longrunning.Operation) {
    option (google.api.http) = {
      post: "/v1alpha1/{parent=projects/*/locations/*}/mirroringEndpointGroups"
      body: "mirroring_endpoint_group"
    };
    option (google.api.method_signature) =
        "parent,mirroring_endpoint_group,mirroring_endpoint_group_id";
    option (google.longrunning.operation_info) = {
      response_type: "MirroringEndpointGroup"
      metadata_type: "google.cloud.networksecurity.v1alpha1.OperationMetadata"
    };
  }

  // Updates an endpoint group.
  // See https://google.aip.dev/134.
  rpc UpdateMirroringEndpointGroup(UpdateMirroringEndpointGroupRequest)
      returns (google.longrunning.Operation) {
    option (google.api.http) = {
      patch: "/v1alpha1/{mirroring_endpoint_group.name=projects/*/locations/*/mirroringEndpointGroups/*}"
      body: "mirroring_endpoint_group"
    };
    option (google.api.method_signature) =
        "mirroring_endpoint_group,update_mask";
    option (google.longrunning.operation_info) = {
      response_type: "MirroringEndpointGroup"
      metadata_type: "google.cloud.networksecurity.v1alpha1.OperationMetadata"
    };
  }

  // Deletes an endpoint group.
  // See https://google.aip.dev/135.
  rpc DeleteMirroringEndpointGroup(DeleteMirroringEndpointGroupRequest)
      returns (google.longrunning.Operation) {
    option (google.api.http) = {
      delete: "/v1alpha1/{name=projects/*/locations/*/mirroringEndpointGroups/*}"
    };
    option (google.api.method_signature) = "name";
    option (google.longrunning.operation_info) = {
      response_type: "google.protobuf.Empty"
      metadata_type: "google.cloud.networksecurity.v1alpha1.OperationMetadata"
    };
  }

  // Lists associations in a given project and location.
  // See https://google.aip.dev/132.
  rpc ListMirroringEndpointGroupAssociations(
      ListMirroringEndpointGroupAssociationsRequest)
      returns (ListMirroringEndpointGroupAssociationsResponse) {
    option (google.api.http) = {
      get: "/v1alpha1/{parent=projects/*/locations/*}/mirroringEndpointGroupAssociations"
    };
    option (google.api.method_signature) = "parent";
  }

  // Gets a specific association.
  // See https://google.aip.dev/131.
  rpc GetMirroringEndpointGroupAssociation(
      GetMirroringEndpointGroupAssociationRequest)
      returns (MirroringEndpointGroupAssociation) {
    option (google.api.http) = {
      get: "/v1alpha1/{name=projects/*/locations/*/mirroringEndpointGroupAssociations/*}"
    };
    option (google.api.method_signature) = "name";
  }

  // Creates an association in a given project and location.
  // See https://google.aip.dev/133.
  rpc CreateMirroringEndpointGroupAssociation(
      CreateMirroringEndpointGroupAssociationRequest)
      returns (google.longrunning.Operation) {
    option (google.api.http) = {
      post: "/v1alpha1/{parent=projects/*/locations/*}/mirroringEndpointGroupAssociations"
      body: "mirroring_endpoint_group_association"
    };
    option (google.api.method_signature) =
        "parent,mirroring_endpoint_group_association,mirroring_endpoint_group_association_id";
    option (google.longrunning.operation_info) = {
      response_type: "MirroringEndpointGroupAssociation"
      metadata_type: "google.cloud.networksecurity.v1alpha1.OperationMetadata"
    };
  }

  // Updates an association.
  // See https://google.aip.dev/134.
  rpc UpdateMirroringEndpointGroupAssociation(
      UpdateMirroringEndpointGroupAssociationRequest)
      returns (google.longrunning.Operation) {
    option (google.api.http) = {
      patch: "/v1alpha1/{mirroring_endpoint_group_association.name=projects/*/locations/*/mirroringEndpointGroupAssociations/*}"
      body: "mirroring_endpoint_group_association"
    };
    option (google.api.method_signature) =
        "mirroring_endpoint_group_association,update_mask";
    option (google.longrunning.operation_info) = {
      response_type: "MirroringEndpointGroupAssociation"
      metadata_type: "google.cloud.networksecurity.v1alpha1.OperationMetadata"
    };
  }

  // Deletes an association.
  // See https://google.aip.dev/135.
  rpc DeleteMirroringEndpointGroupAssociation(
      DeleteMirroringEndpointGroupAssociationRequest)
      returns (google.longrunning.Operation) {
    option (google.api.http) = {
      delete: "/v1alpha1/{name=projects/*/locations/*/mirroringEndpointGroupAssociations/*}"
    };
    option (google.api.method_signature) = "name";
    option (google.longrunning.operation_info) = {
      response_type: "google.protobuf.Empty"
      metadata_type: "google.cloud.networksecurity.v1alpha1.OperationMetadata"
    };
  }

  // Lists deployment groups in a given project and location.
  // See https://google.aip.dev/132.
  rpc ListMirroringDeploymentGroups(ListMirroringDeploymentGroupsRequest)
      returns (ListMirroringDeploymentGroupsResponse) {
    option (google.api.http) = {
      get: "/v1alpha1/{parent=projects/*/locations/*}/mirroringDeploymentGroups"
    };
    option (google.api.method_signature) = "parent";
  }

  // Gets a specific deployment group.
  // See https://google.aip.dev/131.
  rpc GetMirroringDeploymentGroup(GetMirroringDeploymentGroupRequest)
      returns (MirroringDeploymentGroup) {
    option (google.api.http) = {
      get: "/v1alpha1/{name=projects/*/locations/*/mirroringDeploymentGroups/*}"
    };
    option (google.api.method_signature) = "name";
  }

  // Creates a deployment group in a given project and location.
  // See https://google.aip.dev/133.
  rpc CreateMirroringDeploymentGroup(CreateMirroringDeploymentGroupRequest)
      returns (google.longrunning.Operation) {
    option (google.api.http) = {
      post: "/v1alpha1/{parent=projects/*/locations/*}/mirroringDeploymentGroups"
      body: "mirroring_deployment_group"
    };
    option (google.api.method_signature) =
        "parent,mirroring_deployment_group,mirroring_deployment_group_id";
    option (google.longrunning.operation_info) = {
      response_type: "MirroringDeploymentGroup"
      metadata_type: "google.cloud.networksecurity.v1alpha1.OperationMetadata"
    };
  }

  // Updates a deployment group.
  // See https://google.aip.dev/134.
  rpc UpdateMirroringDeploymentGroup(UpdateMirroringDeploymentGroupRequest)
      returns (google.longrunning.Operation) {
    option (google.api.http) = {
      patch: "/v1alpha1/{mirroring_deployment_group.name=projects/*/locations/*/mirroringDeploymentGroups/*}"
      body: "mirroring_deployment_group"
    };
    option (google.api.method_signature) =
        "mirroring_deployment_group,update_mask";
    option (google.longrunning.operation_info) = {
      response_type: "MirroringDeploymentGroup"
      metadata_type: "google.cloud.networksecurity.v1alpha1.OperationMetadata"
    };
  }

  // Deletes a deployment group.
  // See https://google.aip.dev/135.
  rpc DeleteMirroringDeploymentGroup(DeleteMirroringDeploymentGroupRequest)
      returns (google.longrunning.Operation) {
    option (google.api.http) = {
      delete: "/v1alpha1/{name=projects/*/locations/*/mirroringDeploymentGroups/*}"
    };
    option (google.api.method_signature) = "name";
    option (google.longrunning.operation_info) = {
      response_type: "google.protobuf.Empty"
      metadata_type: "google.cloud.networksecurity.v1alpha1.OperationMetadata"
    };
  }

  // Lists deployments in a given project and location.
  // See https://google.aip.dev/132.
  rpc ListMirroringDeployments(ListMirroringDeploymentsRequest)
      returns (ListMirroringDeploymentsResponse) {
    option (google.api.http) = {
      get: "/v1alpha1/{parent=projects/*/locations/*}/mirroringDeployments"
    };
    option (google.api.method_signature) = "parent";
  }

  // Gets a specific deployment.
  // See https://google.aip.dev/131.
  rpc GetMirroringDeployment(GetMirroringDeploymentRequest)
      returns (MirroringDeployment) {
    option (google.api.http) = {
      get: "/v1alpha1/{name=projects/*/locations/*/mirroringDeployments/*}"
    };
    option (google.api.method_signature) = "name";
  }

  // Creates a deployment in a given project and location.
  // See https://google.aip.dev/133.
  rpc CreateMirroringDeployment(CreateMirroringDeploymentRequest)
      returns (google.longrunning.Operation) {
    option (google.api.http) = {
      post: "/v1alpha1/{parent=projects/*/locations/*}/mirroringDeployments"
      body: "mirroring_deployment"
    };
    option (google.api.method_signature) =
        "parent,mirroring_deployment,mirroring_deployment_id";
    option (google.longrunning.operation_info) = {
      response_type: "MirroringDeployment"
      metadata_type: "google.cloud.networksecurity.v1alpha1.OperationMetadata"
    };
  }

  // Updates a deployment.
  // See https://google.aip.dev/134.
  rpc UpdateMirroringDeployment(UpdateMirroringDeploymentRequest)
      returns (google.longrunning.Operation) {
    option (google.api.http) = {
      patch: "/v1alpha1/{mirroring_deployment.name=projects/*/locations/*/mirroringDeployments/*}"
      body: "mirroring_deployment"
    };
    option (google.api.method_signature) = "mirroring_deployment,update_mask";
    option (google.longrunning.operation_info) = {
      response_type: "MirroringDeployment"
      metadata_type: "google.cloud.networksecurity.v1alpha1.OperationMetadata"
    };
  }

  // Deletes a deployment.
  // See https://google.aip.dev/135.
  rpc DeleteMirroringDeployment(DeleteMirroringDeploymentRequest)
      returns (google.longrunning.Operation) {
    option (google.api.http) = {
      delete: "/v1alpha1/{name=projects/*/locations/*/mirroringDeployments/*}"
    };
    option (google.api.method_signature) = "name";
    option (google.longrunning.operation_info) = {
      response_type: "google.protobuf.Empty"
      metadata_type: "google.cloud.networksecurity.v1alpha1.OperationMetadata"
    };
  }
}

// An endpoint group is a consumer frontend for a deployment group (backend).
// In order to configure mirroring for a network, consumers must create:
// - An association between their network and the endpoint group.
// - A security profile that points to the endpoint group.
// - A mirroring rule that references the security profile (group).
message MirroringEndpointGroup {
  option (google.api.resource) = {
    type: "networksecurity.googleapis.com/MirroringEndpointGroup"
    pattern: "projects/{project}/locations/{location}/mirroringEndpointGroups/{mirroring_endpoint_group}"
    plural: "mirroringEndpointGroups"
    singular: "mirroringEndpointGroup"
  };

  // The endpoint group's view of a connected deployment group.
  message ConnectedDeploymentGroup {
    // Output only. The connected deployment group's resource name, for example:
    // `projects/123456789/locations/global/mirroringDeploymentGroups/my-dg`.
    // See https://google.aip.dev/124.
    string name = 1 [
      (google.api.field_behavior) = OUTPUT_ONLY,
      (google.api.resource_reference) = {
        type: "networksecurity.googleapis.com/MirroringDeploymentGroup"
      }
    ];

    // Output only. The list of locations where the deployment group is present.
    repeated MirroringLocation locations = 2
        [(google.api.field_behavior) = OUTPUT_ONLY];
  }

  // The endpoint group's view of a connected association.
  message AssociationDetails {
    // Output only. The connected association's resource name, for example:
    // `projects/123456789/locations/global/mirroringEndpointGroupAssociations/my-ega`.
    // See https://google.aip.dev/124.
    string name = 1 [
      (google.api.field_behavior) = OUTPUT_ONLY,
      (google.api.resource_reference) = {
        type: "networksecurity.googleapis.com/MirroringEndpointGroupAssociation"
      }
    ];

    // Output only. The associated network, for example:
    // projects/123456789/global/networks/my-network.
    // See https://google.aip.dev/124.
    string network = 2 [
      (google.api.field_behavior) = OUTPUT_ONLY,
      (google.api.resource_reference) = {
        type: "compute.googleapis.com/Network"
      }
    ];

    // Output only. Most recent known state of the association.
    MirroringEndpointGroupAssociation.State state = 3
        [(google.api.field_behavior) = OUTPUT_ONLY];
  }

  // The current state of the endpoint group.
  enum State {
    // State not set (this is not a valid state).
    STATE_UNSPECIFIED = 0;

    // The endpoint group is ready and in sync with the target deployment group.
    ACTIVE = 1;

    // The deployment group backing this endpoint group has been force-deleted.
    // This endpoint group cannot be used and mirroring is effectively disabled.
    CLOSED = 2;

    // The endpoint group is being created.
    CREATING = 3;

    // The endpoint group is being deleted.
    DELETING = 4;

    // The endpoint group is out of sync with the backing deployment group.
    // In most cases, this is a result of a transient issue within the system
    // (e.g. an inaccessible location) and the system is expected to recover
    // automatically. See the associations field for details per network and
    // location.
    OUT_OF_SYNC = 5;

    // An attempt to delete the endpoint group has failed. This is a terminal
    // state and the endpoint group is not expected to recover.
    // The only permitted operation is to retry deleting the endpoint group.
    DELETE_FAILED = 6;
  }

  // The type of the endpoint group.
  enum Type {
    // Not set.
    TYPE_UNSPECIFIED = 0;

    // An endpoint group that sends packets to a single deployment group.
    DIRECT = 1;
  }

  // Immutable. Identifier. The resource name of this endpoint group, for
  // example:
  // `projects/123456789/locations/global/mirroringEndpointGroups/my-eg`.
  // See https://google.aip.dev/122 for more details.
  string name = 1 [
    (google.api.field_behavior) = IDENTIFIER,
    (google.api.field_behavior) = IMMUTABLE
  ];

  // Output only. The timestamp when the resource was created.
  // See https://google.aip.dev/148#timestamps.
  google.protobuf.Timestamp create_time = 2
      [(google.api.field_behavior) = OUTPUT_ONLY];

  // Output only. The timestamp when the resource was most recently updated.
  // See https://google.aip.dev/148#timestamps.
  google.protobuf.Timestamp update_time = 3
      [(google.api.field_behavior) = OUTPUT_ONLY];

  // Optional. Labels are key/value pairs that help to organize and filter
  // resources.
  map<string, string> labels = 4 [(google.api.field_behavior) = OPTIONAL];

  // Immutable. The deployment group that this DIRECT endpoint group is
  // connected to, for example:
  // `projects/123456789/locations/global/mirroringDeploymentGroups/my-dg`.
  // See https://google.aip.dev/124.
  string mirroring_deployment_group = 5 [
    (google.api.field_behavior) = IMMUTABLE,
    (google.api.resource_reference) = {
      type: "networksecurity.googleapis.com/MirroringDeploymentGroup"
    }
  ];

  // Output only. List of details about the connected deployment groups to this
  // endpoint group.
  repeated ConnectedDeploymentGroup connected_deployment_groups = 13
      [(google.api.field_behavior) = OUTPUT_ONLY];

  // Output only. The current state of the endpoint group.
  // See https://google.aip.dev/216.
  State state = 7 [(google.api.field_behavior) = OUTPUT_ONLY];

  // Output only. The current state of the resource does not match the user's
  // intended state, and the system is working to reconcile them. This is part
  // of the normal operation (e.g. adding a new association to the group). See
  // https://google.aip.dev/128.
  bool reconciling = 8 [(google.api.field_behavior) = OUTPUT_ONLY];

  // Immutable. The type of the endpoint group.
  // If left unspecified, defaults to DIRECT.
  Type type = 11 [(google.api.field_behavior) = IMMUTABLE];

  // Output only. List of associations to this endpoint group.
  repeated AssociationDetails associations = 9
      [(google.api.field_behavior) = OUTPUT_ONLY];

  // Optional. User-provided description of the endpoint group.
  // Used as additional context for the endpoint group.
  string description = 10 [(google.api.field_behavior) = OPTIONAL];
}

// Request message for ListMirroringEndpointGroups.
message ListMirroringEndpointGroupsRequest {
  // Required. The parent, which owns this collection of endpoint groups.
  // Example: `projects/123456789/locations/global`.
  // See https://google.aip.dev/132 for more details.
  string parent = 1 [
    (google.api.field_behavior) = REQUIRED,
    (google.api.resource_reference) = {
      child_type: "networksecurity.googleapis.com/MirroringEndpointGroup"
    }
  ];

  // Optional. Requested page size. Server may return fewer items than
  // requested. If unspecified, server will pick an appropriate default. See
  // https://google.aip.dev/158 for more details.
  int32 page_size = 2 [(google.api.field_behavior) = OPTIONAL];

  // Optional. A page token, received from a previous
  // `ListMirroringEndpointGroups` call. Provide this to retrieve the subsequent
  // page. When paginating, all other parameters provided to
  // `ListMirroringEndpointGroups` must match the call that provided the page
  // token.
  // See https://google.aip.dev/158 for more details.
  string page_token = 3 [(google.api.field_behavior) = OPTIONAL];

  // Optional. Filter expression.
  // See https://google.aip.dev/160#filtering for more details.
  string filter = 4 [(google.api.field_behavior) = OPTIONAL];

  // Optional. Sort expression.
  // See https://google.aip.dev/132#ordering for more details.
  string order_by = 5 [(google.api.field_behavior) = OPTIONAL];
}

// Response message for ListMirroringEndpointGroups.
message ListMirroringEndpointGroupsResponse {
  // The endpoint groups from the specified parent.
  repeated MirroringEndpointGroup mirroring_endpoint_groups = 1;

  // A token that can be sent as `page_token` to retrieve the next page.
  // If this field is omitted, there are no subsequent pages.
  // See https://google.aip.dev/158 for more details.
  string next_page_token = 2;
}

// Request message for GetMirroringEndpointGroup.
message GetMirroringEndpointGroupRequest {
  // Required. The name of the endpoint group to retrieve.
  // Format:
  // projects/{project}/locations/{location}/mirroringEndpointGroups/{mirroring_endpoint_group}
  string name = 1 [
    (google.api.field_behavior) = REQUIRED,
    (google.api.resource_reference) = {
      type: "networksecurity.googleapis.com/MirroringEndpointGroup"
    }
  ];
}

// Request message for CreateMirroringEndpointGroup.
message CreateMirroringEndpointGroupRequest {
  // Required. The parent resource where this endpoint group will be created.
  // Format: projects/{project}/locations/{location}
  string parent = 1 [
    (google.api.field_behavior) = REQUIRED,
    (google.api.resource_reference) = {
      child_type: "networksecurity.googleapis.com/MirroringEndpointGroup"
    }
  ];

  // Required. The ID to use for the endpoint group, which will become the final
  // component of the endpoint group's resource name.
  string mirroring_endpoint_group_id = 2
      [(google.api.field_behavior) = REQUIRED];

  // Required. The endpoint group to create.
  MirroringEndpointGroup mirroring_endpoint_group = 3
      [(google.api.field_behavior) = REQUIRED];

  // Optional. A unique identifier for this request. Must be a UUID4.
  // This request is only idempotent if a `request_id` is provided.
  // See https://google.aip.dev/155 for more details.
  string request_id = 4 [
    (google.api.field_info).format = UUID4,
    (google.api.field_behavior) = OPTIONAL
  ];
}

// Request message for UpdateMirroringEndpointGroup.
message UpdateMirroringEndpointGroupRequest {
  // Optional. The list of fields to update.
  // Fields are specified relative to the endpoint group
  // (e.g. `description`; *not* `mirroring_endpoint_group.description`).
  // See https://google.aip.dev/161 for more details.
  google.protobuf.FieldMask update_mask = 1
      [(google.api.field_behavior) = OPTIONAL];

  // Required. The endpoint group to update.
  MirroringEndpointGroup mirroring_endpoint_group = 2
      [(google.api.field_behavior) = REQUIRED];

  // Optional. A unique identifier for this request. Must be a UUID4.
  // This request is only idempotent if a `request_id` is provided.
  // See https://google.aip.dev/155 for more details.
  string request_id = 3 [
    (google.api.field_info).format = UUID4,
    (google.api.field_behavior) = OPTIONAL
  ];
}

// Request message for DeleteMirroringEndpointGroup.
message DeleteMirroringEndpointGroupRequest {
  // Required. The endpoint group to delete.
  string name = 1 [
    (google.api.field_behavior) = REQUIRED,
    (google.api.resource_reference) = {
      type: "networksecurity.googleapis.com/MirroringEndpointGroup"
    }
  ];

  // Optional. A unique identifier for this request. Must be a UUID4.
  // This request is only idempotent if a `request_id` is provided.
  // See https://google.aip.dev/155 for more details.
  string request_id = 2 [
    (google.api.field_info).format = UUID4,
    (google.api.field_behavior) = OPTIONAL
  ];
}

// An endpoint group association represents a link between a network and an
// endpoint group in the organization.
//
// Creating an association creates the networking infrastructure linking the
// network to the endpoint group, but does not enable mirroring by itself.
// To enable mirroring, the user must also create a network firewall policy
// containing mirroring rules and associate it with the network.
message MirroringEndpointGroupAssociation {
  option (google.api.resource) = {
    type: "networksecurity.googleapis.com/MirroringEndpointGroupAssociation"
    pattern: "projects/{project}/locations/{location}/mirroringEndpointGroupAssociations/{mirroring_endpoint_group_association}"
    plural: "mirroringEndpointGroupAssociations"
    singular: "mirroringEndpointGroupAssociation"
  };

  // Contains details about the state of an association in a specific cloud
  // location.
  message LocationDetails {
    // The state of association.
    enum State {
      // Not set.
      STATE_UNSPECIFIED = 0;

      // The association is ready and in sync with the linked endpoint group.
      ACTIVE = 1;

      // The association is out of sync with the linked endpoint group.
      // In most cases, this is a result of a transient issue within the system
      // (e.g. an inaccessible location) and the system is expected to recover
      // automatically.
      OUT_OF_SYNC = 2;
    }

    // Output only. The cloud location, e.g. "us-central1-a" or "asia-south1".
    string location = 1 [(google.api.field_behavior) = OUTPUT_ONLY];

    // Output only. The current state of the association in this location.
    State state = 2 [(google.api.field_behavior) = OUTPUT_ONLY];
  }

  // The state of the association.
  enum State {
    // Not set.
    STATE_UNSPECIFIED = 0;

    // The association is ready and in sync with the linked endpoint group.
    ACTIVE = 1;

    // The association is being created.
    CREATING = 3;

    // The association is being deleted.
    DELETING = 4;

    // The association is disabled due to a breaking change in another resource.
    CLOSED = 5;

    // The association is out of sync with the linked endpoint group.
    // In most cases, this is a result of a transient issue within the system
    // (e.g. an inaccessible location) and the system is expected to recover
    // automatically. Check the `locations_details` field for more details.
    OUT_OF_SYNC = 6;

    // An attempt to delete the association has failed. This is a terminal state
    // and the association is not expected to be usable as some of its resources
    // have been deleted.
    // The only permitted operation is to retry deleting the association.
    DELETE_FAILED = 7;
  }

  // Immutable. Identifier. The resource name of this endpoint group
  // association, for example:
  // `projects/123456789/locations/global/mirroringEndpointGroupAssociations/my-eg-association`.
  // See https://google.aip.dev/122 for more details.
  string name = 1 [
    (google.api.field_behavior) = IDENTIFIER,
    (google.api.field_behavior) = IMMUTABLE
  ];

  // Output only. The timestamp when the resource was created.
  // See https://google.aip.dev/148#timestamps.
  google.protobuf.Timestamp create_time = 2
      [(google.api.field_behavior) = OUTPUT_ONLY];

  // Output only. The timestamp when the resource was most recently updated.
  // See https://google.aip.dev/148#timestamps.
  google.protobuf.Timestamp update_time = 3
      [(google.api.field_behavior) = OUTPUT_ONLY];

  // Optional. Labels are key/value pairs that help to organize and filter
  // resources.
  map<string, string> labels = 4 [(google.api.field_behavior) = OPTIONAL];

  // Immutable. The endpoint group that this association is connected to, for
  // example:
  // `projects/123456789/locations/global/mirroringEndpointGroups/my-eg`.
  // See https://google.aip.dev/124.
  string mirroring_endpoint_group = 5 [
    (google.api.field_behavior) = IMMUTABLE,
    (google.api.resource_reference) = {
      type: "networksecurity.googleapis.com/MirroringEndpointGroup"
    }
  ];

  // Immutable. The VPC network that is associated. for example:
  // `projects/123456789/global/networks/my-network`.
  // See https://google.aip.dev/124.
  string network = 6 [
    (google.api.field_behavior) = IMMUTABLE,
    (google.api.resource_reference) = { type: "compute.googleapis.com/Network" }
  ];

  // Output only. The list of locations where the association is present. This
  // information is retrieved from the linked endpoint group, and not configured
  // as part of the association itself.
  repeated LocationDetails locations_details = 7
      [deprecated = true, (google.api.field_behavior) = OUTPUT_ONLY];

  // Output only. Current state of the endpoint group association.
  State state = 8 [(google.api.field_behavior) = OUTPUT_ONLY];

  // Output only. The current state of the resource does not match the user's
  // intended state, and the system is working to reconcile them. This part of
  // the normal operation (e.g. adding a new location to the target deployment
  // group). See https://google.aip.dev/128.
  bool reconciling = 9 [(google.api.field_behavior) = OUTPUT_ONLY];

  // Output only. The list of locations where the association is configured.
  // This information is retrieved from the linked endpoint group.
  repeated MirroringLocation locations = 10
      [(google.api.field_behavior) = OUTPUT_ONLY];
}

// Request message for ListMirroringEndpointGroupAssociations.
message ListMirroringEndpointGroupAssociationsRequest {
  // Required. The parent, which owns this collection of associations.
  // Example: `projects/123456789/locations/global`.
  // See https://google.aip.dev/132 for more details.
  string parent = 1 [
    (google.api.field_behavior) = REQUIRED,
    (google.api.resource_reference) = {
      child_type: "networksecurity.googleapis.com/MirroringEndpointGroupAssociation"
    }
  ];

  // Optional. Requested page size. Server may return fewer items than
  // requested. If unspecified, server will pick an appropriate default. See
  // https://google.aip.dev/158 for more details.
  int32 page_size = 2 [(google.api.field_behavior) = OPTIONAL];

  // Optional. A page token, received from a previous
  // `ListMirroringEndpointGroups` call. Provide this to retrieve the subsequent
  // page. When paginating, all other parameters provided to
  // `ListMirroringEndpointGroups` must match the call that provided the page
  // token. See https://google.aip.dev/158 for more details.
  string page_token = 3 [(google.api.field_behavior) = OPTIONAL];

  // Optional. Filter expression.
  // See https://google.aip.dev/160#filtering for more details.
  string filter = 4 [(google.api.field_behavior) = OPTIONAL];

  // Optional. Sort expression.
  // See https://google.aip.dev/132#ordering for more details.
  string order_by = 5 [(google.api.field_behavior) = OPTIONAL];
}

// Response message for ListMirroringEndpointGroupAssociations.
message ListMirroringEndpointGroupAssociationsResponse {
  // The associations from the specified parent.
  repeated MirroringEndpointGroupAssociation
      mirroring_endpoint_group_associations = 1;

  // A token that can be sent as `page_token` to retrieve the next page.
  // If this field is omitted, there are no subsequent pages.
  // See https://google.aip.dev/158 for more details.
  string next_page_token = 2;
}

// Request message for GetMirroringEndpointGroupAssociation.
message GetMirroringEndpointGroupAssociationRequest {
  // Required. The name of the association to retrieve.
  // Format:
  // projects/{project}/locations/{location}/mirroringEndpointGroupAssociations/{mirroring_endpoint_group_association}
  string name = 1 [
    (google.api.field_behavior) = REQUIRED,
    (google.api.resource_reference) = {
      type: "networksecurity.googleapis.com/MirroringEndpointGroupAssociation"
    }
  ];
}

// Request message for CreateMirroringEndpointGroupAssociation.
message CreateMirroringEndpointGroupAssociationRequest {
  // Required. The parent resource where this association will be created.
  // Format: projects/{project}/locations/{location}
  string parent = 1 [
    (google.api.field_behavior) = REQUIRED,
    (google.api.resource_reference) = {
      child_type: "networksecurity.googleapis.com/MirroringEndpointGroupAssociation"
    }
  ];

  // Optional. The ID to use for the new association, which will become the
  // final component of the endpoint group's resource name. If not provided, the
  // server will generate a unique ID.
  string mirroring_endpoint_group_association_id = 2
      [(google.api.field_behavior) = OPTIONAL];

  // Required. The association to create.
  MirroringEndpointGroupAssociation mirroring_endpoint_group_association = 3
      [(google.api.field_behavior) = REQUIRED];

  // Optional. A unique identifier for this request. Must be a UUID4.
  // This request is only idempotent if a `request_id` is provided.
  // See https://google.aip.dev/155 for more details.
  string request_id = 4 [
    (google.api.field_info).format = UUID4,
    (google.api.field_behavior) = OPTIONAL
  ];
}

// Request message for UpdateMirroringEndpointGroupAssociation.
message UpdateMirroringEndpointGroupAssociationRequest {
  // Optional. The list of fields to update.
  // Fields are specified relative to the association
  // (e.g. `description`; *not*
  // `mirroring_endpoint_group_association.description`). See
  // https://google.aip.dev/161 for more details.
  google.protobuf.FieldMask update_mask = 1
      [(google.api.field_behavior) = OPTIONAL];

  // Required. The association to update.
  MirroringEndpointGroupAssociation mirroring_endpoint_group_association = 2
      [(google.api.field_behavior) = REQUIRED];

  // Optional. A unique identifier for this request. Must be a UUID4.
  // This request is only idempotent if a `request_id` is provided.
  // See https://google.aip.dev/155 for more details.
  string request_id = 3 [
    (google.api.field_info).format = UUID4,
    (google.api.field_behavior) = OPTIONAL
  ];
}

// Request message for DeleteMirroringEndpointGroupAssociation.
message DeleteMirroringEndpointGroupAssociationRequest {
  // Required. The association to delete.
  string name = 1 [
    (google.api.field_behavior) = REQUIRED,
    (google.api.resource_reference) = {
      type: "networksecurity.googleapis.com/MirroringEndpointGroupAssociation"
    }
  ];

  // Optional. A unique identifier for this request. Must be a UUID4.
  // This request is only idempotent if a `request_id` is provided.
  // See https://google.aip.dev/155 for more details.
  string request_id = 2 [
    (google.api.field_info).format = UUID4,
    (google.api.field_behavior) = OPTIONAL
  ];
}

// A deployment group aggregates many zonal mirroring backends (deployments)
// into a single global mirroring service. Consumers can connect this service
// using an endpoint group.
message MirroringDeploymentGroup {
  option (google.api.resource) = {
    type: "networksecurity.googleapis.com/MirroringDeploymentGroup"
    pattern: "projects/{project}/locations/{location}/mirroringDeploymentGroups/{mirroring_deployment_group}"
    plural: "mirroringDeploymentGroups"
    singular: "mirroringDeploymentGroup"
  };

  // An endpoint group connected to this deployment group.
  message ConnectedEndpointGroup {
    // Output only. The connected endpoint group's resource name, for example:
    // `projects/123456789/locations/global/mirroringEndpointGroups/my-eg`.
    // See https://google.aip.dev/124.
    string name = 1 [
      (google.api.field_behavior) = OUTPUT_ONLY,
      (google.api.resource_reference) = {
        type: "networksecurity.googleapis.com/MirroringEndpointGroup"
      }
    ];
  }

  // A deployment belonging to this deployment group.
  message Deployment {
    // Output only. The name of the Mirroring Deployment, in the format:
    // `projects/{project}/locations/{location}/mirroringDeployments/{mirroring_deployment}`.
    string name = 1 [
      (google.api.field_behavior) = OUTPUT_ONLY,
      (google.api.resource_reference) = {
        type: "networksecurity.googleapis.com/MirroringDeployment"
      }
    ];

    // Output only. Most recent known state of the deployment.
    MirroringDeployment.State state = 2
        [(google.api.field_behavior) = OUTPUT_ONLY];
  }

  // The current state of the deployment group.
  enum State {
    // State not set (this is not a valid state).
    STATE_UNSPECIFIED = 0;

    // The deployment group is ready.
    ACTIVE = 1;

    // The deployment group is being created.
    CREATING = 2;

    // The deployment group is being deleted.
    DELETING = 3;

    // The deployment group is being wiped out (project deleted).
    CLOSED = 4;
  }

  // Immutable. Identifier. The resource name of this deployment group, for
  // example:
  // `projects/123456789/locations/global/mirroringDeploymentGroups/my-dg`.
  // See https://google.aip.dev/122 for more details.
  string name = 1 [
    (google.api.field_behavior) = IDENTIFIER,
    (google.api.field_behavior) = IMMUTABLE
  ];

  // Output only. The timestamp when the resource was created.
  // See https://google.aip.dev/148#timestamps.
  google.protobuf.Timestamp create_time = 2
      [(google.api.field_behavior) = OUTPUT_ONLY];

  // Output only. The timestamp when the resource was most recently updated.
  // See https://google.aip.dev/148#timestamps.
  google.protobuf.Timestamp update_time = 3
      [(google.api.field_behavior) = OUTPUT_ONLY];

  // Optional. Labels are key/value pairs that help to organize and filter
  // resources.
  map<string, string> labels = 4 [(google.api.field_behavior) = OPTIONAL];

  // Required. Immutable. The network that will be used for all child
  // deployments, for example: `projects/{project}/global/networks/{network}`.
  // See https://google.aip.dev/124.
  string network = 5 [
    (google.api.field_behavior) = REQUIRED,
    (google.api.field_behavior) = IMMUTABLE,
    (google.api.resource_reference) = { type: "compute.googleapis.com/Network" }
  ];

  // Output only. The list of endpoint groups that are connected to this
  // resource.
  repeated ConnectedEndpointGroup connected_endpoint_groups = 6
      [(google.api.field_behavior) = OUTPUT_ONLY];

  // Output only. The list of Mirroring Deployments that belong to this group.
  repeated Deployment nested_deployments = 10
      [deprecated = true, (google.api.field_behavior) = OUTPUT_ONLY];

  // Output only. The current state of the deployment group.
  // See https://google.aip.dev/216.
  State state = 7 [(google.api.field_behavior) = OUTPUT_ONLY];

  // Output only. The current state of the resource does not match the user's
  // intended state, and the system is working to reconcile them. This is part
  // of the normal operation (e.g. adding a new deployment to the group) See
  // https://google.aip.dev/128.
  bool reconciling = 8 [(google.api.field_behavior) = OUTPUT_ONLY];

  // Optional. User-provided description of the deployment group.
  // Used as additional context for the deployment group.
  string description = 9 [(google.api.field_behavior) = OPTIONAL];

  // Output only. The list of locations where the deployment group is present.
  repeated MirroringLocation locations = 11
      [(google.api.field_behavior) = OUTPUT_ONLY];
}

// Request message for ListMirroringDeploymentGroups.
message ListMirroringDeploymentGroupsRequest {
  // Required. The parent, which owns this collection of deployment groups.
  // Example: `projects/123456789/locations/global`.
  // See https://google.aip.dev/132 for more details.
  string parent = 1 [
    (google.api.field_behavior) = REQUIRED,
    (google.api.resource_reference) = {
      child_type: "networksecurity.googleapis.com/MirroringDeploymentGroup"
    }
  ];

  // Optional. Requested page size. Server may return fewer items than
  // requested. If unspecified, server will pick an appropriate default. See
  // https://google.aip.dev/158 for more details.
  int32 page_size = 2 [(google.api.field_behavior) = OPTIONAL];

  // Optional. A page token, received from a previous
  // `ListMirroringDeploymentGroups` call. Provide this to retrieve the
  // subsequent page. When paginating, all other parameters provided to
  // `ListMirroringDeploymentGroups` must match the call that provided the page
  // token. See https://google.aip.dev/158 for more details.
  string page_token = 3 [(google.api.field_behavior) = OPTIONAL];

  // Optional. Filter expression.
  // See https://google.aip.dev/160#filtering for more details.
  string filter = 4 [(google.api.field_behavior) = OPTIONAL];

  // Optional. Sort expression.
  // See https://google.aip.dev/132#ordering for more details.
  string order_by = 5 [(google.api.field_behavior) = OPTIONAL];
}

// Response message for ListMirroringDeploymentGroups.
message ListMirroringDeploymentGroupsResponse {
  // The deployment groups from the specified parent.
  repeated MirroringDeploymentGroup mirroring_deployment_groups = 1;

  // A token that can be sent as `page_token` to retrieve the next page.
  // If this field is omitted, there are no subsequent pages.
  // See https://google.aip.dev/158 for more details.
  string next_page_token = 2;
}

// Request message for GetMirroringDeploymentGroup.
message GetMirroringDeploymentGroupRequest {
  // Required. The name of the deployment group to retrieve.
  // Format:
  // projects/{project}/locations/{location}/mirroringDeploymentGroups/{mirroring_deployment_group}
  string name = 1 [
    (google.api.field_behavior) = REQUIRED,
    (google.api.resource_reference) = {
      type: "networksecurity.googleapis.com/MirroringDeploymentGroup"
    }
  ];
}

// Request message for CreateMirroringDeploymentGroup.
message CreateMirroringDeploymentGroupRequest {
  // Required. The parent resource where this deployment group will be created.
  // Format: projects/{project}/locations/{location}
  string parent = 1 [
    (google.api.field_behavior) = REQUIRED,
    (google.api.resource_reference) = {
      child_type: "networksecurity.googleapis.com/MirroringDeploymentGroup"
    }
  ];

  // Required. The ID to use for the new deployment group, which will become the
  // final component of the deployment group's resource name.
  string mirroring_deployment_group_id = 2
      [(google.api.field_behavior) = REQUIRED];

  // Required. The deployment group to create.
  MirroringDeploymentGroup mirroring_deployment_group = 3
      [(google.api.field_behavior) = REQUIRED];

  // Optional. A unique identifier for this request. Must be a UUID4.
  // This request is only idempotent if a `request_id` is provided.
  // See https://google.aip.dev/155 for more details.
  string request_id = 4 [
    (google.api.field_info).format = UUID4,
    (google.api.field_behavior) = OPTIONAL
  ];
}

// Request message for UpdateMirroringDeploymentGroup.
message UpdateMirroringDeploymentGroupRequest {
  // Optional. The list of fields to update.
  // Fields are specified relative to the deployment group
  // (e.g. `description`; *not*
  // `mirroring_deployment_group.description`). See
  // https://google.aip.dev/161 for more details.
  google.protobuf.FieldMask update_mask = 1
      [(google.api.field_behavior) = OPTIONAL];

  // Required. The deployment group to update.
  MirroringDeploymentGroup mirroring_deployment_group = 2
      [(google.api.field_behavior) = REQUIRED];

  // Optional. A unique identifier for this request. Must be a UUID4.
  // This request is only idempotent if a `request_id` is provided.
  // See https://google.aip.dev/155 for more details.
  string request_id = 3 [
    (google.api.field_info).format = UUID4,
    (google.api.field_behavior) = OPTIONAL
  ];
}

// Request message for DeleteMirroringDeploymentGroup.
message DeleteMirroringDeploymentGroupRequest {
  // Required. The deployment group to delete.
  string name = 1 [
    (google.api.field_behavior) = REQUIRED,
    (google.api.resource_reference) = {
      type: "networksecurity.googleapis.com/MirroringDeploymentGroup"
    }
  ];

  // Optional. A unique identifier for this request. Must be a UUID4.
  // This request is only idempotent if a `request_id` is provided.
  // See https://google.aip.dev/155 for more details.
  string request_id = 2 [
    (google.api.field_info).format = UUID4,
    (google.api.field_behavior) = OPTIONAL
  ];
}

// A deployment represents a zonal mirroring backend ready to accept
// GENEVE-encapsulated replica traffic, e.g. a zonal instance group fronted by
// an internal passthrough load balancer. Deployments are always part of a
// global deployment group which represents a global mirroring service.
message MirroringDeployment {
  option (google.api.resource) = {
    type: "networksecurity.googleapis.com/MirroringDeployment"
    pattern: "projects/{project}/locations/{location}/mirroringDeployments/{mirroring_deployment}"
    plural: "mirroringDeployments"
    singular: "mirroringDeployment"
  };

  // The current state of the deployment.
  enum State {
    // State not set (this is not a valid state).
    STATE_UNSPECIFIED = 0;

    // The deployment is ready and in sync with the parent group.
    ACTIVE = 1;

    // The deployment is being created.
    CREATING = 2;

    // The deployment is being deleted.
    DELETING = 3;

    // The deployment is out of sync with the parent group.
    // In most cases, this is a result of a transient issue within the system
    // (e.g. a delayed data-path config) and the system is expected to recover
    // automatically. See the parent deployment group's state for more details.
    OUT_OF_SYNC = 4;

    // An attempt to delete the deployment has failed. This is a terminal state
    // and the deployment is not expected to recover. The only permitted
    // operation is to retry deleting the deployment.
    DELETE_FAILED = 5;
  }

  // Immutable. Identifier. The resource name of this deployment, for example:
  // `projects/123456789/locations/us-central1-a/mirroringDeployments/my-dep`.
  // See https://google.aip.dev/122 for more details.
  string name = 1 [
    (google.api.field_behavior) = IDENTIFIER,
    (google.api.field_behavior) = IMMUTABLE
  ];

  // Output only. The timestamp when the resource was created.
  // See https://google.aip.dev/148#timestamps.
  google.protobuf.Timestamp create_time = 2
      [(google.api.field_behavior) = OUTPUT_ONLY];

  // Output only. The timestamp when the resource was most recently updated.
  // See https://google.aip.dev/148#timestamps.
  google.protobuf.Timestamp update_time = 3
      [(google.api.field_behavior) = OUTPUT_ONLY];

  // Optional. Labels are key/value pairs that help to organize and filter
  // resources.
  map<string, string> labels = 4 [(google.api.field_behavior) = OPTIONAL];

  // Required. Immutable. The regional forwarding rule that fronts the mirroring
  // collectors, for example:
  // `projects/123456789/regions/us-central1/forwardingRules/my-rule`. See
  // https://google.aip.dev/124.
  string forwarding_rule = 5 [
    (google.api.field_behavior) = REQUIRED,
    (google.api.field_behavior) = IMMUTABLE,
    (google.api.resource_reference) = {
      type: "compute.googleapis.com/ForwardingRule"
    }
  ];

  // Required. Immutable. The deployment group that this deployment is a part
  // of, for example:
  // `projects/123456789/locations/global/mirroringDeploymentGroups/my-dg`.
  // See https://google.aip.dev/124.
  string mirroring_deployment_group = 6 [
    (google.api.field_behavior) = REQUIRED,
    (google.api.field_behavior) = IMMUTABLE,
    (google.api.resource_reference) = {
      type: "networksecurity.googleapis.com/MirroringDeploymentGroup"
    }
  ];

  // Output only. The current state of the deployment.
  // See https://google.aip.dev/216.
  State state = 7 [(google.api.field_behavior) = OUTPUT_ONLY];

  // Output only. The current state of the resource does not match the user's
  // intended state, and the system is working to reconcile them. This part of
  // the normal operation (e.g. linking a new association to the parent group).
  // See https://google.aip.dev/128.
  bool reconciling = 8 [(google.api.field_behavior) = OUTPUT_ONLY];

  // Optional. User-provided description of the deployment.
  // Used as additional context for the deployment.
  string description = 9 [(google.api.field_behavior) = OPTIONAL];
}

// Request message for ListMirroringDeployments.
message ListMirroringDeploymentsRequest {
  // Required. The parent, which owns this collection of deployments.
  // Example: `projects/123456789/locations/us-central1-a`.
  // See https://google.aip.dev/132 for more details.
  string parent = 1 [
    (google.api.field_behavior) = REQUIRED,
    (google.api.resource_reference) = {
      child_type: "networksecurity.googleapis.com/MirroringDeployment"
    }
  ];

  // Optional. Requested page size. Server may return fewer items than
  // requested. If unspecified, server will pick an appropriate default. See
  // https://google.aip.dev/158 for more details.
  int32 page_size = 2 [(google.api.field_behavior) = OPTIONAL];

  // Optional. A page token, received from a previous `ListMirroringDeployments`
  // call. Provide this to retrieve the subsequent page. When paginating, all
  // other parameters provided to `ListMirroringDeployments` must match the call
  // that provided the page token. See https://google.aip.dev/158 for more
  // details.
  string page_token = 3 [(google.api.field_behavior) = OPTIONAL];

  // Optional. Filter expression.
  // See https://google.aip.dev/160#filtering for more details.
  string filter = 4 [(google.api.field_behavior) = OPTIONAL];

  // Optional. Sort expression.
  // See https://google.aip.dev/132#ordering for more details.
  string order_by = 5 [(google.api.field_behavior) = OPTIONAL];
}

// Response message for ListMirroringDeployments.
message ListMirroringDeploymentsResponse {
  // The deployments from the specified parent.
  repeated MirroringDeployment mirroring_deployments = 1;

  // A token that can be sent as `page_token` to retrieve the next page.
  // If this field is omitted, there are no subsequent pages.
  // See https://google.aip.dev/158 for more details.
  string next_page_token = 2;

  // Locations that could not be reached.
  repeated string unreachable = 3;
}

// Request message for GetMirroringDeployment.
message GetMirroringDeploymentRequest {
  // Required. The name of the deployment to retrieve.
  // Format:
  // projects/{project}/locations/{location}/mirroringDeployments/{mirroring_deployment}
  string name = 1 [
    (google.api.field_behavior) = REQUIRED,
    (google.api.resource_reference) = {
      type: "networksecurity.googleapis.com/MirroringDeployment"
    }
  ];
}

// Request message for CreateMirroringDeployment.
message CreateMirroringDeploymentRequest {
  // Required. The parent resource where this deployment will be created.
  // Format: projects/{project}/locations/{location}
  string parent = 1 [
    (google.api.field_behavior) = REQUIRED,
    (google.api.resource_reference) = {
      child_type: "networksecurity.googleapis.com/MirroringDeployment"
    }
  ];

  // Required. The ID to use for the new deployment, which will become the final
  // component of the deployment's resource name.
  string mirroring_deployment_id = 2 [(google.api.field_behavior) = REQUIRED];

  // Required. The deployment to create.
  MirroringDeployment mirroring_deployment = 3
      [(google.api.field_behavior) = REQUIRED];

  // Optional. A unique identifier for this request. Must be a UUID4.
  // This request is only idempotent if a `request_id` is provided.
  // See https://google.aip.dev/155 for more details.
  string request_id = 4 [
    (google.api.field_info).format = UUID4,
    (google.api.field_behavior) = OPTIONAL
  ];
}

// Request message for UpdateMirroringDeployment.
message UpdateMirroringDeploymentRequest {
  // Optional. The list of fields to update.
  // Fields are specified relative to the deployment
  // (e.g. `description`; *not* `mirroring_deployment.description`).
  // See https://google.aip.dev/161 for more details.
  google.protobuf.FieldMask update_mask = 1
      [(google.api.field_behavior) = OPTIONAL];

  // Required. The deployment to update.
  MirroringDeployment mirroring_deployment = 2
      [(google.api.field_behavior) = REQUIRED];

  // Optional. A unique identifier for this request. Must be a UUID4.
  // This request is only idempotent if a `request_id` is provided.
  // See https://google.aip.dev/155 for more details.
  string request_id = 3 [
    (google.api.field_info).format = UUID4,
    (google.api.field_behavior) = OPTIONAL
  ];
}

// Request message for DeleteMirroringDeployment.
message DeleteMirroringDeploymentRequest {
  // Required. Name of the resource
  string name = 1 [
    (google.api.field_behavior) = REQUIRED,
    (google.api.resource_reference) = {
      type: "networksecurity.googleapis.com/MirroringDeployment"
    }
  ];

  // Optional. A unique identifier for this request. Must be a UUID4.
  // This request is only idempotent if a `request_id` is provided.
  // See https://google.aip.dev/155 for more details.
  string request_id = 2 [
    (google.api.field_info).format = UUID4,
    (google.api.field_behavior) = OPTIONAL
  ];
}

// Details about mirroring in a specific cloud location.
message MirroringLocation {
  // The current state of a resource in the location.
  enum State {
    // State not set (this is not a valid state).
    STATE_UNSPECIFIED = 0;

    // The resource is ready and in sync in the location.
    ACTIVE = 1;

    // The resource is out of sync in the location.
    // In most cases, this is a result of a transient issue within the system
    // (e.g. an inaccessible location) and the system is expected to recover
    // automatically.
    OUT_OF_SYNC = 2;
  }

  // Output only. The cloud location, e.g. "us-central1-a" or "asia-south1".
  string location = 1 [(google.api.field_behavior) = OUTPUT_ONLY];

  // Output only. The current state of the association in this location.
  State state = 2 [(google.api.field_behavior) = OUTPUT_ONLY];
}
